<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PurpleProgrammers</title>
    <link rel="stylesheet" href="WPR281_Project_PurpleProgrammersGroup.css">
    <script>
        function locationreload(){
            location.reload();
        }
    </script>
</head>
<body>
<Form action="">
    <main>
    <h3 class="basic"> Basic Details</h3>
    <section>  
    <aside>
        <sub><!--firstname subtext-->
        <label for="first_name" class="labels" >First Name</label><br>
        <input type="text" id="first_name" onkeydown="return /[a-z]/i.test(event.key)" placeholder="enter your name" class="input" required><br>
        </sub>
        <sub><!--email subtext-->

        <label for="Email" class="labels">Email ID</label><br><!--pattern="[a-z0-9._%+\-]+@[a-z0-9.\-]+\.[a-z]{2,}$" -->
        <input type="text"  id="Email" placeholder="xxx@zzz.yyy" pattern="[A-z0-9][a-z0-9._%+\-]+@[a-z0-9.\-]+\.[a-z]{2,}$" class="input" required><br>

       
        </sub>
        <sub><!--country subtext-->
        <label for="countryName" class="labels">Country</label><br>
        <select list="countries"  id="countryName" class="input" required><br>
        <datalist id="countries">
            <option value="none" selected disabled hidden></option>
            <option value="America">America</option>
            <option value="New Guinea">New Guinea</option>
            <option value="South Africa">South Africa</option>
        </datalist>
        </sub>
        <sub><!--phone number subtext-->
        <!--NB//Add onhover event on textbox to be filled in using HTML-DOM-->
        <label for="phoneNumber" class="labels" >Phone Number</label><br>
        <!--Font & Border aqua-->
        <input type="tel" id="phoneNumber" placeholder="XXX-XXX-YYYY" pattern="[0]{1}[0-9]{2}-[0-9]{3}-[0-9]{4}" data-slot="XY" class="input" required>
        </sub><!--Reset button-->
        <input type="reset" value="Reset All" class="reset_button">
    </aside>
    <aside>
        <sub><!--lastname subtext-->
        <label for="lastName"class="labels">Last Name</label><br>
        <input type="text" id="lastName" onkeydown="return /[a-z]/i.test(event.key)" class="input" onkeydown="return /[a-z]/i.test(event.key)" required><br>
        </sub>
        <sub><!--User ID-->
        <label for="your_user_ID" class="labels">Your User ID </label><br>
        <input type="text"  id="your_user_ID" class="input" pattern="[A-Za-z0-9]{2,8}" required><br>
        </sub>
        <sub><!--state subtext-->
        <label for="state" class="labels" >State</label><br>
        <select list="states" placeholder="Reference code" id="state" class="input" required><br>
        <datalist id="states">
            <option value="none" selected disabled hidden></option>
            <option value="California">California</option>
            <option value="Simbu">Simbu</option>
            <option value="Gauteng">Gauteng</option>
        </datalist>
        </sub>
        <sub><!--city subtext-->
        <label for="city"  class="labels" >City</label><br>
        <select list="cities" class="input" id="city" required>
        <datalist id="cities">
            <option value="none" selected disabled hidden></option>
            <option value="Los Angeles">Los Angeles</option>
            <option value="Kundiawa">Kundiawa</option>
            <option value="Johannesburg">Johannesburg</option>
        </datalist>
        </sub>
        <!--Continue button-->
        <button id="submit_button" onclick="adds()" class="sumbit_button">Submit</button>
        <p id = "p"></p>

    </aside>
    </section>
    </main>
</Form>
<script>
    let details = document.querySelectorAll("input");
    /*Continue button-Check*/
    let done = document.querySelector("button");
    let reseting = document.querySelectorAll("input").item(5);
    let Ensure_NotEmpty=() => {
        for (let i = 0; i < details.length; i++) {
            if((details[i].type=="reset")==false){
            if((details[i].type=="submit")==false){
                if(details[i].placeholder==""&&details[i].value=="") {
                console.log(details[i]);
                details[i].style.borderColor="orange red";
                let cross = document.createElement("p");
                details[i].parentElement.appendChild(cross);
                cross.style.display="inline";
                let part1 = document.createElement("div");
                part1.id = "Error_p1";
                cross.appendChild(part1);
                let part2 = document.createElement("div");
                part2.id = "Error_p2";
                cross.appendChild(part2);
                }else{
                details[i].style.borderColor="dimgray";
                }
            }
            }
        }
    }
     done.addEventListener("click",()=>{
         setTimeout(Ensure_NotEmpty(),12000);
    //     wait(1000);
    //     setTimeout(locationreload(),12000);
     });


     
let saved =[];//array for objects
//object constructer with name user
function User(names, surname, email, phonenum, userid, country, state, city, refcode ) { // object constructor
this.names = names;
this.surname = surname;
this.email = email;
this.phonenum = phonenum;
this.userid = userid;
this.country = country;
this.state = state;
this.refcode = refcode;
saved.push({Name:this.names, Surname: this.surname, email: this.email, phonenum: this.phonenum, userid: this.userid, country: this.country});
}

let name1;
let lastname; 
let email; 
let tel;
let userid;
let country;
let state;

let inputarr = [name1, lastname, email, tel, userid, country, state];

function adds() {
    let fnames = document.getElementById("first_name").value;
    let flastname = document.getElementById("lastName").value;
    let femail = document.getElementById("Email").value;
    let ftel = document.getElementById("phoneNumber").value;
    let fuserid = document.getElementById("your_user_ID").value;
    let fcountry = document.getElementById("countryName").value;
    let fstate = document.getElementById("state").value;
    let finputarr = [fnames, flastname, femail, ftel, fuserid, fcountry, fstate];
    for (let i = 0; i < inputarr.length; i++) {
        inputarr[i] = finputarr[i];
    }
    update();
}
function update(){ 
    new User(inputarr[0],inputarr[1],inputarr[2],inputarr[3],inputarr[4],inputarr[5],inputarr[6]);
    // for (let i = 0; i < inputarr.length; i++)
    // {
    //     console.log(inputarr[i]);
    // }
    console.log(inputarr);
    for (let i = 0; i < inputarr.length; i++) {
    let nodetxt = document.createTextNode((inputarr[i]+" "));
    display.appendChild(nodetxt);
    document.getElementById("p").appendChild(display);
    
    
}
};
//creating element TextArea to display the variable holdings
let display = document.createElement('textarea');


</script>
<script src="WPR281_Project_PurpleProgrammersGroup.js"></script>
</body>
